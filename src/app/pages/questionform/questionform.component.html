<div class="max-w-xl mx-auto pt-32   p-6 bg-slate-800 text-white shadow-2xl rounded-2xl space-y-6">
  <!-- 📂 File Upload Section -->
  <div>
    <h2 class="text-xl font-semibold mb-2">Upload Resume</h2>
    <input
      type="file"
      (change)="onFileSelect($event)"
      class="block w-full bg-slate-700 text-white border border-slate-600 rounded p-2"
    />
    <button
      (click)="onFileSend()"
      [disabled]="!selectedFile"
      class="mt-3 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-slate-500"
    >
      Upload & Autofill
    </button>
    <p *ngIf="fileName" class="mt-2 text-sm text-slate-300">
      <strong>Uploaded:</strong> {{ fileName }}
    </p>
  </div>

  <hr class="border-t border-slate-600" />

  <!-- ✍️ Manual Form Section -->
  <div>
    <h2 class="text-xl font-semibold mb-4">Candidate Info</h2>
    <form [formGroup]="jobForm" id="scroll" (ngSubmit)="onGenerate()" class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-slate-200">Job Title</label>
        <input
          formControlName="job_title"
          type="text"
          class="mt-1 block w-full bg-slate-700 text-white border border-slate-600 rounded p-2"
        />
        <p *ngIf="jobForm.get('job_title')?.invalid && jobForm.get('job_title')?.touched"
           class="text-red-400 text-sm mt-1">
          Job title is required.
        </p>
      </div>



      <div>
        <label class="block text-sm font-medium text-slate-200">Experience Level (1–10)</label>
        <input
          formControlName="estimated_experience"
          type="number"
          min="1"
          max="10"
          class="mt-1 block w-full bg-slate-700 text-white border border-slate-600 rounded p-2"
        />
        <p *ngIf="jobForm.get('estimated_experience')?.invalid && jobForm.get('estimated_experience')?.touched"
           class="text-red-400 text-sm mt-1">
          Experience must be between 1 and 10.
        </p>
      </div>
      <!-- Add this block below the Experience Level field in the form -->
  <div>
    <label class="block text-sm font-medium text-slate-200">Tools Used (comma-separated)</label>
    <input
     formControlName="tools_used"
     type="text"
    class="mt-1 block w-full bg-slate-700 text-white border border-slate-600 rounded p-2"
  />
</div>

      <button
        type="submit"
        [disabled]="!jobForm.valid"
        class="w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:bg-slate-500"
      >
        Generate Questions
      </button>
    </form>
  </div>

  <hr class="border-t border-slate-600 "#questionsSection />

 <!-- ❓ Questions With Answer Input -->
<div *ngIf="questions.length">
  <h2 class="text-xl font-semibold mb-3">Answer the Questions Below</h2>
  <div *ngFor="let q of questions; index as i" class="mb-6">
    <p class="font-medium text-slate-100 mb-2">Q{{ i + 1 }}: {{ q }}</p>
    <textarea
      [(ngModel)]="questionAnswers[q]"
      [name]="'answer_' + i"
      class="w-full bg-slate-700 text-white border border-slate-600 rounded p-2"
      placeholder="Type your answer here..."
    ></textarea>
  </div>

  <button
    (click)="onSubmitAnswers()"
    class="mt-6 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700"
  >
    Submit Answers for Feedback
  </button>
<!-- 📝 AI Feedback Display -->
<div *ngIf="aiFeedbackList.length" class="mt-10 space-y-6">
  <h2 class="text-xl font-semibold mb-3">Feedback from AI</h2>
  <div *ngFor="let item of aiFeedbackList" class="bg-slate-700 p-4 rounded-lg shadow">
    <p class="font-semibold text-green-300">Q: {{ item.question }}</p>
    <p class="text-slate-200 mt-1"><strong>Your Answer:</strong> {{ item.answer }}</p>
    <p class="text-yellow-300 mt-1"><strong>Rating:</strong> {{ item.rating }}</p>
    <p class="text-red-300 mt-1"><strong>Corrections:</strong> {{ item.corrections }}</p>
  </div>
</div>
<!-- 🔁 Generate New Questions -->
<button
  (click)="onGenerate()"
  class="mt-6 w-full bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700"
>
  Generate New Questions
</button>



</div>


